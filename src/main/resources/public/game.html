<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">
    <link href="/css/custom.css" rel="stylesheet">
    <!-- font awesome -->
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <!-- HTML5 shiv, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://twitter.github.io/bootstrap/assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="shortcut icon" href="/static/favicon.gif">
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Tic Tac Toes!</title>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
  </head>

  <body>
    <div class="jumbotron">
        <h1> Tic Tac Toes! </h1>
    </div>
    <div class="container">
        <table class="main-game">
            <tr>
                <td id="box00">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box01">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box02">
                    <i class="fa fa-5x"></i>
                </td>
            </tr>
            <tr>
                <td id="box10">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box11">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box12">
                    <i class="fa fa-5x"></i>
                </td>
            </tr>
            <tr>
                <td id="box20">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box21">
                    <i class="fa fa-5x"></i>
                </td>
                <td id="box22">
                    <i class="fa fa-5x"></i>
                </td>
            </tr>
        </table>
    </div>

  </body>
</html>

<script>
$( ".main-game tr td" ).click(function() {
    var x = this.id[3];
    var y = this.id[4];
    $.get( "handleClick", {x: x, y: y}, function( data ) {
        console.log(data);
        var json = JSON.parse(data);
        for(var i = 0; i <= 2 ; i++){
            for(var j = 0; j <= 2; j++){
                if(json.matrix.matrix[i*3+j] == 1){
                    $('#box'+i+j + " i ").removeClass("fa-circle-o", "fa-check");
                    $('#box'+i+j + " i ").addClass("fa-check");
                }
                else if(json.matrix.matrix[i*3+j] == 2){
                    $('#box'+i+j + " i ").removeClass("fa-circle-o", "fa-check");
                    $('#box'+i+j + " i ").addClass("fa-circle-o");
                }
                else
                    $('#box'+i+j + " i ").removeClass("fa-circle-o", "fa-check");
            }
        }
    });
});
</script>
